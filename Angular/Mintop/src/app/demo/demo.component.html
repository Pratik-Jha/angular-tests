<div class="container">

  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <div formGroupName="cruisSpecifics">
      <hr>
      <h1>Cruis Specifics</h1>
      <hr>
      <div class="form-group">
        <label for="date" class="form-label">Date and time</label>
        <input class="form-control" type="datetime-local" formControlName="date">
        <div *ngIf="date && date.invalid && date.touched">
          <div *ngIf="date.errors.required" class="alert alert-danger">
            Date is required.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="participants" class="form-label">No. of Participants</label>
        <input class="form-control" type="number" formControlName="participants">
        <div *ngIf="participants && participants.invalid && participants.touched">
          <div *ngIf="participants.errors.required" class="alert alert-danger">
            Participants are required.
          </div>
        </div>
      </div>

      <div formGroupName="foodRequest" class="form-group">
        <label for="foodRequest">Food Request</label><br>
        <div class="form-check form-check-inline">
          <label class="form-check-label">
            <input class="form-check-input " type="checkbox" value="breakfast" formControlName="breakfast"> Breakfast
          </label>
        </div>
        <div class="form-check form-check-inline">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" value="lunch" formControlName="lunch"> Lunch
          </label>
        </div>
        <div class="form-check form-check-inline">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" value="dinner" formControlName="dinner"> Dinner
          </label>
        </div>
      </div>

      <div class="form-group" (change)="onChangeOption()">
        <label for="chooseOption">Want to add contact information?</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" value="yes" name="chooseOption" formControlName="chooseOption">
          <label class="form-check-label" for="yes">
            Yes
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" value="no" name="chooseOption" formControlName="chooseOption">
          <label class="form-check-label" for="no">
            No
          </label>
        </div>

        <div *ngIf="chooseOption && chooseOption.invalid && chooseOption.touched">
          <div *ngIf="chooseOption.errors.required" class="alert alert-danger">
            Option is required.
          </div>
        </div>
      </div>
    </div>

    <div formGroupName="contactInformation" *ngIf="chooseOption.value=='yes'">
      <hr>
      <h1>Contact Information</h1>
      <hr>

      <div formGroupName="fullName" class="form-group">
        <label for="fullName" class="form-label">Full Name</label>
        <div class="row">
          <div class="col">
            <input type="text" class="form-control" placeholder="First name" aria-label="First name"
              formControlName="firstName">
            <div *ngIf="firstName && firstName.invalid && firstName.touched">
              <div *ngIf="firstName.errors.required" class="alert alert-danger">
                First Name is required.
              </div>
            </div>
          </div>
          <div class="col">
            <input type="text" class="form-control" placeholder="Last name" aria-label="Last name"
              formControlName="lastName">
            <div *ngIf="lastName && lastName.invalid && lastName.touched">
              <div *ngIf="lastName.errors.required" class="alert alert-danger">
                Last Name is required.
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="email" class="form-label">Email</label>
        <input class="form-control" type="email" formControlName="email">
        <div *ngIf="email && email.invalid && email.touched">
          <div *ngIf="email.errors.required" class="alert alert-danger">
            Email is required.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="phoneNumber" class="form-label">Phone Number</label>
        <input class="form-control" type="number" formControlName="phoneNumber">
        <div *ngIf="phoneNumber && phoneNumber.invalid && phoneNumber.touched">
          <div *ngIf="phoneNumber.errors.required" class="alert alert-danger">
            Phone Number is required.
          </div>
        </div>
      </div>

      <div class="form-floating">
        <label for="additionalRequests">Additional Requests</label>
        <textarea class="form-control" formControlName="additionalRequests"></textarea>
      </div>
    </div>
    <input type="submit" class="btn btn-success m-2" [disabled]="form.invalid" value="submit">
  </form>
</div>